---
import Container from '@compoonents/container.astro'
import SectionTitle from '@compoonents/section-title.astro'
import Layout from '@layouts/Layout.astro'
import { getAllTeams } from '@services/teams'

const teams = await getAllTeams()
---

<Layout title='Equipos'>
  <SectionTitle title='Equipos' />
  <Container>
    <div class="bg-white p-20 shadow-xl rounded -mt-10">
      <section class='grid grid-cols-3 gap-8'>
        {
          teams.map((team) => {
            const { id, name, image } = team
            return (
              <article class="col-span-1 rounded aspect-video bg-blue-400">
                <a class="flex h-full items-center relative" href={`/team/${id}`} title={`Ver equipo ${name}`}>
                  <img class="w-28 h-28 brightness-[100] [backface-visibility:hidden] z-10" src={image} alt='' />
                  <h3 class='z-10 font-title text-white text-3xl'>{name}</h3>
                  <div class={`bg-[url('${image}')] absolute bg-center bg-[size:150%] z-0 inset-0 opacity-50`} />
                </a>
              </article>
            )
          })
        }
      </section>
    </div>
  </Container>
</Layout>
